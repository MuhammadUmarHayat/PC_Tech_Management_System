Remaining Stock
SELECT ps.product_name, ps.product_number, ps.brand, (ps.quantity - COALESCE(sales.qty, 0)) AS remaining_quantity FROM product_stocks ps LEFT JOIN (SELECT productid, SUM(qty) AS qty FROM sale_table GROUP BY productid) AS sales ON ps.product_number = sales.productid